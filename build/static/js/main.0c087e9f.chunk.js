(this["webpackJsonpthe-covid-experience"]=this["webpackJsonpthe-covid-experience"]||[]).push([[0],{135:function(e,a,t){e.exports=t.p+"static/media/logo.9e693df1.png"},141:function(e){e.exports=JSON.parse('{"particles":{"number":{"value":30,"density":{"enable":true,"value_area":800}},"color":{"value":"#ed254e"},"shape":{"type":"image","stroke":{"width":1,"color":"#000000"},"polygon":{"nb_sides":5},"image":{"src":"https://image.flaticon.com/icons/png/512/2913/2913584.png","width":50,"height":50}},"opacity":{"value":0.09255363904080781,"random":true,"anim":{"enable":false,"speed":1,"opacity_min":0.1,"sync":false}},"size":{"value":21.034917963819957,"random":true,"anim":{"enable":false,"speed":40,"size_min":0.1,"sync":false}},"line_linked":{"enable":true,"distance":151.4514093395037,"color":"#000000","opacity":0.4,"width":1},"move":{"enable":true,"speed":3,"direction":"none","random":false,"straight":false,"out_mode":"out","bounce":false,"attract":{"enable":false,"rotateX":600,"rotateY":1200}}},"interactivity":{"detect_on":"canvas","events":{"onhover":{"enable":true,"mode":"repulse"},"onclick":{"enable":true,"mode":"push"},"resize":true},"modes":{"grab":{"distance":400,"line_linked":{"opacity":1}},"bubble":{"distance":400,"size":40,"duration":2,"opacity":8,"speed":3},"repulse":{"distance":100,"duration":0.4},"push":{"particles_nb":4},"remove":{"particles_nb":2}}},"retina_detect":true}')},155:function(e,a,t){e.exports=t(392)},160:function(e,a,t){},161:function(e,a,t){},166:function(e,a,t){},391:function(e,a,t){},392:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(13),i=t.n(o),l=(t(160),t(86)),c=(t(161),t(72)),s=t(147),m=t(439),u=t(440),p=(t(94),t(135)),d=t.n(p),f=t(424),h=t(428),g=t(429),E=t(430),y=t(67),v=t.n(y),b=function(){return r.a.createElement(f.a,{position:"static",elevation:1,color:""},r.a.createElement(h.a,null,r.a.createElement(g.a,{justify:"space-between",container:!0,spacing:24},r.a.createElement(g.a,{item:!0},r.a.createElement("img",{src:d.a,height:40,alt:"covid-experience-logo"})),r.a.createElement(g.a,{item:!0},r.a.createElement(E.a,{size:12,color:"primary","aria-label":"Share your experience",component:"span"},r.a.createElement(v.a,null))))))},x=t(393),w=t(431),k=(t(166),t(140)),S=t.n(k),N=t(141),j=function(e){return r.a.createElement(x.a,null,r.a.createElement("div",{className:"wrapper"},r.a.createElement(S.a,{params:N,height:"80vh"}),r.a.createElement("div",{className:"text"},r.a.createElement(w.a,{variant:"h1",className:"lead-text"},"Stay Home. Stay safe"),r.a.createElement(w.a,{variant:"subtitle2",className:"text-light-grey"},"Share your experience with the world."))))},C=t(19),O=t.n(C),_=t(73),z=t(32),B=t(433),T=t(434),A=t(442),F=t(436),I=t(441),R=t(437),W=t(438),J=t(443),L=t(146),q=t.n(L),D=t(145),G=t.n(D),P=t(435),U=t(394),Y=t(142),H=t.n(Y),M=t(143),V=t.n(M),X=t(144),$=t.n(X),K=t(52),Q=t.n(K),Z=t(432),ee=(t(391),Object(Z.a)((function(e){return{paper:{backgroundColor:"#ffffff",paddingTop:"20px",paddingBottom:"20px",paddingLeft:"20px",paddingRight:"20px"},button:{margin:e.spacing(1)},modal:{display:"flex",alignItems:"center",justifyContent:"center"},root:{marginTop:40,marginBottom:40,flexGrow:1,textAlign:"center"},avatar:{width:"90px"},large:{width:"70px",height:"70px",marginLeft:"auto",marginRight:"auto"},icons:{"& > *":{marginRight:"20px"}},uploadButton:{backgroundColor:"#4F7CAC",color:"#ffffff"},leadText:{color:"#101935"}}})));function ae(){var e=ee(),a=r.a.useState([]),t=Object(z.a)(a,2),n=t[0],o=t[1],i=r.a.useState(!0),l=Object(z.a)(i,2),c=l[0],s=l[1],m=r.a.useState(!1),u=Object(z.a)(m,2),p=u[0],d=u[1],f=r.a.useState(""),h=Object(z.a)(f,2),E=h[0],y=h[1],v=r.a.useState(""),b=Object(z.a)(v,2),k=b[0],S=b[1],N=r.a.useState(""),j=Object(z.a)(N,2),C=j[0],W=j[1];r.a.useEffect((function(){(function(){var e=Object(_.a)(O.a.mark((function e(){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q()("/api/posts");case 2:a=e.sent,o(a.data),s(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return r.a.createElement(B.a,{maxWidth:"md",className:e.root,disableGutters:!0},r.a.createElement(T.a,{variant:"contained",color:"secondary",className:e.button,onClick:function(){d(!0)},startIcon:r.a.createElement(H.a,null)},"Add your Experience"),r.a.createElement(A.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:p,onClose:function(){d(!1)},closeAfterTransition:!0,BackdropComponent:P.a,BackdropProps:{timeout:500}},r.a.createElement(U.a,{in:p},r.a.createElement(B.a,{maxWidth:"sm",className:e.paper},r.a.createElement(w.a,{variant:"h1",className:e.leadText,style:{margin:10}},"Share your experience"),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(g.a,{item:!0},r.a.createElement(g.a,{container:!0,direction:"column"},r.a.createElement(F.a,{className:"form-items"},r.a.createElement(I.a,{id:"story",label:"Name",variant:"outlined",required:!0,value:C,style:{margin:10},onChange:function(e){W(e.target.value)}})),r.a.createElement(F.a,null,r.a.createElement(I.a,{id:"story",label:"Your story",multiline:!0,rows:2,variant:"outlined",style:{margin:10},required:!0,value:k,onChange:function(e){S(e.target.value)}})),r.a.createElement(F.a,null,r.a.createElement("div",{style:{margin:10}},r.a.createElement("input",{accept:"image/*",className:e.input,style:{display:"none"},id:"raised-button-file",type:"file",onChange:function(e){y(e.target.files[0])}}),r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(T.a,{variant:"raised",className:e.uploadButton,component:"span"},r.a.createElement(V.a,null),"\xa0 Upload")))),r.a.createElement(T.a,{variant:"raised",className:e.uploadButton,onClick:function(){var e=new FormData;e.append("image",E),e.append("name",C),e.append("story",k),console.warn(E),Q.a.post("thecovidxperience.herokuapp.com/api/posts",e,{}).then((function(e){console.warn(e)}))}},"Submit \xa0",r.a.createElement($.a,null)))))))),r.a.createElement(x.a,null,r.a.createElement(w.a,{variant:"h1",style:{marginTop:50},className:e.leadText},"Experiences so far..."),r.a.createElement(R.a,null,!0===c?r.a.createElement("p",null,"Loading"):n.map((function(e){return r.a.createElement(te,{data:e})})))))}function te(e){var a=ee(),t=r.a.useState(!1),n=Object(z.a)(t,2),o=n[0],i=n[1],l=e.data,c=function(){var e=Object(_.a)(O.a.mark((function e(){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="thecovidxperience.herokuapp.com/api/posts/".concat(l.id,"/like"),e.next=3,Q.a.post(a,{id:l.id}).then((function(e){console.log(e.data),i(!o)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(_.a)(O.a.mark((function e(a){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,Q.a.post("thecovidxperience.herokuapp.com/api/posts/".concat(l.id,"/like"),{}).then((function(e){console.log(e.data),i(!o)}));case 3:t=encodeURI("A platform to share your covid-19 experience with the world in order to encourage every one that we're together in this. Stay strong!"),window.location.href="https://wa.me/+2349061279158?text="+t;case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(W.a,{key:e.id,button:!0},r.a.createElement(g.a,{container:!0,spacing:1,style:{paddingTop:15,paddingBottom:15}},r.a.createElement(g.a,{item:!0,className:a.avatar},r.a.createElement(J.a,{alt:"Profile image",src:"/uploads/"+l.image_uri,className:a.large})),r.a.createElement(g.a,{item:!0,xs:!0},r.a.createElement(g.a,{container:!0,direction:"column"},r.a.createElement(g.a,{item:!0},r.a.createElement("span",null,r.a.createElement("b",null,l.name))),r.a.createElement(g.a,{item:!0},l.story),r.a.createElement(g.a,{item:!0,style:{paddingTop:15}},r.a.createElement(g.a,{container:!0,justify:"flex-end",className:a.icons},r.a.createElement(w.a,{component:"button",variant:"body2",style:{display:"flex",alignItems:"center"},onClick:c},l.likes," \xa0 ",o?r.a.createElement(G.a,null):r.a.createElement(q.a,null)),r.a.createElement(w.a,{component:"button",variant:"body2",style:{display:"flex",alignItems:"center"},onClick:s},l.shares," \xa0 ",r.a.createElement(v.a,null))))))))}function ne(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement(j,null),r.a.createElement(ae,null))}var re=Object(s.a)({palette:{background:{default:"#ffffff"},primary:{main:"#101935"},secondary:{main:"#4F7CAC"},text:{secondary:"#000000",hint:"#eeeeee"}},status:{danger:c.a[500]}});re.typography.h1=Object(l.a)({fontSize:"1.8rem","@media (min-width:600px)":{fontSize:"2.4rem"}},re.breakpoints.up("md"),{fontSize:"3rem"}),re.typography.h3=Object(l.a)({fontSize:"1.2rem","@media (min-width:600px)":{fontSize:"2rem"}},re.breakpoints.up("md"),{fontSize:"2.4rem"});var oe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{theme:re},r.a.createElement(u.a,null),r.a.createElement(ne,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,a,t){}},[[155,1,2]]]);
//# sourceMappingURL=main.0c087e9f.chunk.js.map